{"version":3,"file":"factories.js","sourceRoot":"","sources":["../../../../src/public/node/themes/factories.ts"],"names":[],"mappings":"AAiBA,MAAM,UAAU,UAAU,CAAC,SAA2B;IACpD,IAAI,CAAC,SAAS;QAAE,OAAM;IAEtB,SAAS,CAAC,UAAU,KAApB,SAAS,CAAC,UAAU,GAAK,KAAK,EAAA;IAC9B,SAAS,CAAC,gBAAgB,KAA1B,SAAS,CAAC,gBAAgB,GAAK,KAAK,EAAA;IAEpC,MAAM,EAAC,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,UAAU,EAAE,gBAAgB,EAAC,GAAG,SAAS,CAAA;IAEhE,OAAO;QACL,EAAE;QACF,IAAI;QACJ,UAAU;QACV,gBAAgB;QAChB,IAAI,EAAE,IAAI,KAAK,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI;KACtC,CAAA;AACH,CAAC;AAED,MAAM,UAAU,aAAa,CAAC,SAA2B;IACvD,IAAI,CAAC,SAAS;QAAE,OAAM;IAEtB,MAAM,EAAC,GAAG,EAAE,QAAQ,EAAC,GAAG,SAAS,CAAA;IACjC,OAAO,EAAC,GAAG,EAAE,QAAQ,EAAC,CAAA;AACxB,CAAC;AAED,MAAM,UAAU,eAAe,CAAC,SAA2B;IACzD,IAAI,CAAC,SAAS;QAAE,OAAM;IAEtB,MAAM,EAAC,GAAG,EAAE,QAAQ,EAAE,UAAU,EAAE,KAAK,EAAC,GAAG,SAAS,CAAA;IACpD,OAAO,EAAC,GAAG,EAAE,QAAQ,EAAE,UAAU,EAAE,KAAK,EAAC,CAAA;AAC3C,CAAC","sourcesContent":["import {Checksum, Theme, ThemeAsset} from '@shopify/cli-kit/node/themes/types'\n\ninterface RemoteThemeJson {\n  id: number\n  name: string\n  role: string\n  createdAtRuntime?: boolean\n  processing?: boolean\n}\n\ninterface RemoteAssetJson {\n  key: string\n  checksum: string\n  attachment: string\n  value: string\n}\n\nexport function buildTheme(themeJson?: RemoteThemeJson): Theme | undefined {\n  if (!themeJson) return\n\n  themeJson.processing ??= false\n  themeJson.createdAtRuntime ??= false\n\n  const {id, name, role, processing, createdAtRuntime} = themeJson\n\n  return {\n    id,\n    name,\n    processing,\n    createdAtRuntime,\n    role: role === 'main' ? 'live' : role,\n  }\n}\n\nexport function buildChecksum(assetJson?: RemoteAssetJson): Checksum | undefined {\n  if (!assetJson) return\n\n  const {key, checksum} = assetJson\n  return {key, checksum}\n}\n\nexport function buildThemeAsset(assetJson?: RemoteAssetJson): ThemeAsset | undefined {\n  if (!assetJson) return\n\n  const {key, checksum, attachment, value} = assetJson\n  return {key, checksum, attachment, value}\n}\n"]}